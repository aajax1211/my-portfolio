import{M as e,V as t,U as n,b as o,a as r,j as s,F as a,u as i,T as l,d as c,e as u,D as d,f,S as h,g as p,h as g,i as w,k as v,l as b,O as m,E as k,L as S,C as x}from"./three-vendor-be67739f.js";import{r as y,R as j}from"./react-vendor-96e705e8.js";import{P as M,S as C,B as E,p as P,a as N,e as D,b as O,o as $}from"./index-b82beb56.js";let z=0;function A(e){return e(this)}function I(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}const T=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,R=e=>"init"in e,W=e=>!!e.write,B=new WeakMap,F=(e,t)=>{const n=B.get(e);n&&(B.delete(e),n(t))},L=(e,t)=>{e.status="fulfilled",e.value=t},U=(e,t)=>{e.status="rejected",e.reason=t},_=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),V=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),G=e=>!!e&&"v"in e&&e.v instanceof Promise,q=e=>{if("e"in e)throw e.e;return e.v},H=()=>{const e=new WeakMap,t=new WeakMap,n=[],o=new WeakMap;const r=t=>e.get(t),s=(e,t)=>{t.d.forEach(((t,n)=>{if(!o.has(n)){const e=r(n);o.set(n,[e,new Set]),e&&s(n,e)}o.get(n)[1].add(e)}))},a=(t,a)=>{var i;const l=r(t);if(e.set(t,a),null==(i=n[n.length-1])||i.add(t),o.has(t)||(o.set(t,[l,new Set]),s(t,a)),G(l)){const e="v"in a?a.v instanceof Promise?a.v:Promise.resolve(a.v):Promise.reject(a.e);l.v!==e&&F(l.v,e)}},i=(e,t,n,o)=>{const r=new Map(o?t.d:null);let s=!1;n.forEach(((n,o)=>{!n&&T(e,o)&&(n=t),n&&(r.set(o,n),t.d.get(o)!==n&&(s=!0))})),(s||t.d.size!==r.size)&&(t.d=r)},l=(e,t,n,o)=>{const s=r(e),l={d:(null==s?void 0:s.d)||new Map,v:t};if(n&&i(e,l,n,o),_(s,l)&&s.d===l.d)return s;if(G(s)&&G(l)&&(u=l,"v"in(c=s)&&"v"in u&&c.v.orig&&c.v.orig===u.v.orig)){if(s.d===l.d)return s;l.v=s.v}var c,u;return a(e,l),l},c=(e,n,o,s)=>{if("function"==typeof(null==(a=n)?void 0:a.then)){let a;const i=()=>{const n=r(e);if(!G(n)||n.v!==c)return;const s=l(e,c,o);t.has(e)&&n.d!==s.d&&v(e,s,n.d)},c=new Promise(((e,t)=>{let o=!1;n.then((t=>{o||(o=!0,L(c,t),e(t),i())}),(e=>{o||(o=!0,U(c,e),t(e),i())})),a=t=>{o||(o=!0,t.then((e=>L(c,e)),(e=>U(c,e))),e(t))}}));return c.orig=n,c.status="pending",((e,t)=>{B.set(e,t),e.catch((()=>{})).finally((()=>B.delete(e)))})(c,(e=>{e&&(a(e),null==s||s())})),l(e,c,o,!0)}var a;return l(e,n,o)},u=(e,n)=>{const o=r(e);if(!(null==n?void 0:n(e))&&o){if(t.has(e))return o;if(Array.from(o.d).every((([t,o])=>{if(t===e)return!0;const r=u(t,n);return r===o||_(r,o)})))return o}const s=new Map;let l=!0;const d=t=>{if(T(e,t)){const e=r(t);if(e)return s.set(t,e),q(e);if(R(t))return s.set(t,void 0),t.init;throw new Error("no atom init")}const o=u(t,n);return s.set(t,o),q(o)};let f,h;const g={get signal(){return f||(f=new AbortController),f.signal},get setSelf(){return!h&&W(e)&&(h=(...t)=>{if(!l)return p(e,...t)}),h}};try{const t=e.read(d,g);return c(e,t,s,(()=>null==f?void 0:f.abort()))}catch(w){return((e,t,n)=>{const o=r(e),s={d:(null==o?void 0:o.d)||new Map,e:t};return n&&i(e,s,n),V(o,s)&&o.d===s.d?o:(a(e,s),s)})(e,w,s)}finally{l=!1}},d=e=>q(u(e)),f=e=>{const n=new Array,a=new Set,i=e=>{if(!a.has(e)){a.add(e);for(const n of(e=>{var n,r;const s=new Set(null==(n=t.get(e))?void 0:n.t);return null==(r=o.get(e))||r[1].forEach((e=>{s.add(e)})),s})(e))e!==n&&i(n);n.push(e)}};i(e);const l=new Set([e]),c=e=>a.has(e);for(let t=n.length-1;t>=0;--t){const e=n[t],o=r(e);if(!o)continue;let i=!1;for(const t of o.d.keys())if(t!==e&&l.has(t)){i=!0;break}if(i){const t=u(e,c);s(e,t),_(o,t)||l.add(e)}a.delete(e)}},h=(e,...t)=>e.write((e=>q(u(e))),((t,...o)=>{const s=n.length>0;let a;if(s||n.push(new Set([t])),T(e,t)){if(!R(t))throw new Error("atom not writable");const e=r(t),n=c(t,o[0]);_(e,n)||f(t)}else a=h(t,...o);if(!s){b(n.pop());0}return a}),...t),p=(e,...t)=>{n.push(new Set([e]));const o=h(e,...t);b(n.pop());return o},g=(e,n,o)=>{var s;const a=t.get(e);if(a)return n&&a.t.add(n),a;const i=o||[];null==(s=r(e))||s.d.forEach(((t,n)=>{n!==e&&g(n,e,i)})),u(e);const l={t:new Set(n&&[n]),l:new Set};if(t.set(e,l),W(e)&&e.onMount){const{onMount:t}=e;i.push((()=>{const n=t(((...t)=>p(e,...t)));n&&(l.u=n)}))}return o||i.forEach((e=>e())),l},w=(e,n)=>{if(!((e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)))(e,n))return;const o=n.u;o&&o(),t.delete(e);const s=r(e);s&&(G(s)&&F(s.v),s.d.forEach(((n,o)=>{if(o!==e){const n=t.get(o);n&&(n.t.delete(e),w(o,n))}})))},v=(e,n,o)=>{const r=new Set(n.d.keys()),s=new Set;null==o||o.forEach(((n,o)=>{if(r.has(o))return void r.delete(o);s.add(o);const a=t.get(o);a&&a.t.delete(e)})),r.forEach((t=>{g(t,e)})),s.forEach((e=>{const n=t.get(e);n&&w(e,n)}))},b=e=>{const n=[],s=e=>{var t;if(!o.has(e))return;const[a,i]=o.get(e);o.delete(e),n.push([e,a]),i.forEach(s),null==(t=r(e))||t.d.forEach(((e,t)=>s(t)))};e.forEach(s),n.forEach((([e,n])=>{const o=r(e);if(o&&o!==n){const r=t.get(e);r&&o.d!==(null==n?void 0:n.d)&&v(e,o,null==n?void 0:n.d),r&&(G(n)||!_(n,o)&&!V(n,o))&&r.l.forEach((e=>e()))}}))},m=(e,t)=>{const n=g(e),o=(b([e]),n.l);return o.add(t),()=>{o.delete(t),w(e,n)}};return{get:d,set:p,sub:m}};let J;const K=()=>(J||(J=H()),J),Q=y.createContext(void 0),X=e=>{const t=y.useContext(Q);return(null==e?void 0:e.store)||t||K()},Y=j.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)});function Z(e,t){const n=X(t),[[o,r,s],a]=y.useReducer((t=>{const o=n.get(e);return Object.is(t[0],o)&&t[1]===n&&t[2]===e?t:[o,n,e]}),void 0,(()=>[n.get(e),n,e]));let i=o;r===n&&s===e||(a(),i=n.get(e));const l=null==t?void 0:t.delay;return y.useEffect((()=>{const t=n.sub(e,(()=>{"number"!=typeof l?a():setTimeout(a,l)}));return a(),t}),[n,e,l]),y.useDebugValue(i),"function"==typeof(null==(c=i)?void 0:c.then)?Y(i):i;var c}function ee(e,t){const n=X(t);return y.useCallback(((...t)=>n.set(e,...t)),[n,e])}function te(e,t){return[Z(e,t),ee(e,t)]}const ne="#ffffff",oe=[new e({color:ne}),new e({color:ne}),new e({color:ne}),new e({color:ne})];const re=({show:e,message:t,link:n,projectName:o})=>{const[a,i]=y.useState(!1);y.useEffect((()=>{if(!e){const e=setTimeout((()=>{i(!1)}),300);return()=>clearTimeout(e)}i(!0)}),[e]);return a?r("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-float",children:s("div",{className:"bg-black/90 border-2 border-yellow-500/50 px-6 py-3 rounded-lg shadow-lg animate-fade-in cursor-pointer hover:bg-black/80 transition-colors",onClick:()=>{n&&window.open(n,"_blank")},children:[s("div",{className:"text-yellow-400 font-mono text-lg tracking-wider",children:["Clicking ",r("span",{className:"text-white font-bold",children:"here"})," will take you to the ",o," source code"]}),r("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-black/90 border-r-2 border-b-2 border-yellow-500/50 rotate-45"})]})}):null},se=["DSC00680","DSC00933","DSC00966","DSC00983","DSC01011","DSC01040","DSC01064","DSC01071","DSC01103","DSC01145"],ae=function(e,t){const n="atom"+ ++z,o={toString:()=>n};return"function"==typeof e?o.read=e:(o.init=e,o.read=A,o.write=I),t&&(o.write=t),o}(0),ie=[{front:"book-cover",back:se[0]}];for(let pe=1;pe<9;pe+=2)ie.push({front:se[pe%se.length],back:se[(pe+1)%se.length]});ie.push({front:se[9],back:"book-back"});const le=()=>{const[e,t]=te(ae),n=e=>{switch(e){case 0:return"Cover";case 1:return"About & Skills";case 2:return"Experience";case 3:return"Project 1";case 4:return"Project 2";case 5:return"Testimonials";default:return`Page ${e}`}},o=(e=>{switch(e){case 3:return{link:"https://github.com/aajax1211/proshop.com-django.git",projectName:"ProShop"};case 4:return{link:"https://github.com/aajax1211/chit-chat-react-node.git",projectName:"Chit-Chat"};default:return null}})(e);return s(a,{children:[s("main",{className:"pointer-events-none select-none z-10 fixed inset-0 flex justify-between flex-col",children:[r("div",{className:"pointer-events-auto mt-10 ml-10"}),r("div",{className:"w-full overflow-auto pointer-events-auto flex justify-center",children:r("div",{className:"overflow-auto flex items-center gap-4 max-w-full p-10",children:[...ie].map(((o,s)=>r("button",{className:"border-transparent hover:border-white transition-all duration-300 px-4 py-3 rounded-full text-lg uppercase shrink-0 border "+(s===e?"bg-white/90 text-black":"bg-black/30 text-white"),onClick:()=>t(s),children:n(s)},s)))})})]}),o&&r(re,{show:3===e||4===e,link:o.link,projectName:o.projectName})]})},ce=Math.PI/180;ie.forEach((e=>{try{i.preload(l,[`${E}/textures/${e.front}.jpg`]),i.preload(l,[`${E}/textures/${e.back}.jpg`]),i.preload(l,[`${E}/textures/book-cover-roughness.jpg`])}catch(t){}}));const ue=({number:s,front:a,back:i,page:l,opened:b,bookClosed:m,...k})=>{const[S,x]=y.useState(!1),[j,z]=te(ae);c(S);const[A,I,T]=u([`${E}/textures/${a}.jpg`,`${E}/textures/${i}.jpg`,...0===s||s===ie.length-1?[`${E}/textures/book-cover-roughness.jpg`]:[]],void 0),R=y.useRef(),W=y.useRef(),B=y.useRef(0),F=y.useRef(b),L=new e({map:A,roughnessMap:0===s?T:null,side:d,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),U=new e({map:I,roughnessMap:s===ie.length-1?T:null,side:d,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),{mesh:_,bones:V,skeleton:G}=y.useMemo((()=>{const e=P.clone();!function(e){if(!e.attributes.position)return;e.translate(M/2,0,0);const r=e.attributes.position,s=new t,a=[],i=[];for(let t=0;t<r.count;t++){s.fromBufferAttribute(r,t);const e=s.x,n=Math.max(0,Math.floor(e/C)),o=e%C/C;a.push(n,n+1,0,0),i.push(1-o,o,0,0)}e.setAttribute("skinIndex",new n(a,4)),e.setAttribute("skinWeight",new o(i,4)),e.computeBoundingBox()}(e);const r=[];for(let t=0;t<=N;t++){const e=new f;e.position.x=0===t?0:C,t>0&&r[t-1].add(e),r.push(e)}const s=new h(r),a=[...oe,L,U];A.colorSpace=I.colorSpace=p;const i=new g(e,a);return i.castShadow=!0,i.receiveShadow=!0,i.frustumCulled=!1,i.add(r[0]),i.bind(s),r[0].updateMatrixWorld(!0),{mesh:i,bones:r,skeleton:s}}),[]);w(((e,t)=>{if(!W.current)return;const n=W.current.skeleton.bones;F.current!==b&&(B.current=+new Date,F.current=b),Math.min(400,+new Date-B.current);let o=b?-Math.PI/2:Math.PI/2;m||(o+=.8*s*ce);for(let r=0;r<n.length;r++){const e=0===r?R.current:n[r],s=r<8?Math.sin(.2*r+.25):0,a=r>8?Math.cos(.3*r+.09):0;let i=o*s*.18-$*a*o;m&&(i=0===r?o:0),v.dampAngle(e.rotation,"y",i,D,t)}}));const q=m?l.length+1:l;return r("group",{...k,ref:R,"rotation-y":0,"position-x":-s*O,onPointerEnter:e=>{e.stopPropagation(),x(!0)},onPointerLeave:e=>{e.stopPropagation(),x(!1)},onClick:e=>{e.stopPropagation(),z(b?s:s+1),x(!1)},children:r("primitive",{ref:W,object:_,"position-z":-s*O+(s===q?2*O:0),renderOrder:s===q?1:0})})},de=({...e})=>{const[t]=te(ae),[n,o]=y.useState(t);return y.useEffect((()=>{if(t===n)return;const e=Math.abs(t-n)>2?50:150,r=setTimeout((()=>{t>n?o((e=>e+1)):t<n&&o((e=>e-1))}),e);return()=>clearTimeout(r)}),[t,n]),r("group",{...e,children:ie.map(((e,t)=>r(ue,{number:t,front:e.front,back:e.back,page:n,opened:n>t,bookClosed:0===n||n===ie.length,...e},t)))})},fe=()=>(te(ae),s(a,{children:[r(b,{floatIntensity:1,speed:1,rotationIntensity:1,children:r(de,{})}),r(m,{}),r(k,{preset:"studio"}),r("directionalLight",{position:[2,5,2],intensity:2.5,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-1e-4}),s("mesh",{"position-y":-1.5,"rotation-x":-Math.PI/2,receiveShadow:!0,children:[r("planeGeometry",{args:[100,100]}),r("shadowMaterial",{transparent:!0,opacity:.2})]})]}));function he(){return s(a,{children:[r(le,{}),r(S,{}),r(x,{className:"absolute inset-0 w-full h-full",shadows:!0,camera:{position:[-.5,1,4],fov:45},children:r("group",{"position-y":0,children:r(y.Suspense,{fallback:null,children:r(fe,{})})})})]})}export{he as default};
