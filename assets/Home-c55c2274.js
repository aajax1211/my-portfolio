import{M as e,V as t,U as n,b as o,a as r,j as s,F as a,u as i,T as c,d as l,e as u,D as d,f,S as h,g as p,h as g,i as w,k as m,l as v,m as b,O as k,E as S,L as x,C as y}from"./three-vendor-b8176658.js";import{r as j,R as M}from"./react-vendor-96e705e8.js";import{P as C,S as E,B as P,p as N,a as D,o as O,e as $,b as z}from"./index-c5c1f7c2.js";let A=0;function T(e){return e(this)}function R(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}const W=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,I=e=>"init"in e,B=e=>!!e.write,F=new WeakMap,L=(e,t)=>{const n=F.get(e);n&&(F.delete(e),n(t))},U=(e,t)=>{e.status="fulfilled",e.value=t},_=(e,t)=>{e.status="rejected",e.reason=t},V=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),G=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),q=e=>!!e&&"v"in e&&e.v instanceof Promise,H=e=>{if("e"in e)throw e.e;return e.v},J=()=>{const e=new WeakMap,t=new WeakMap,n=[],o=new WeakMap;const r=t=>e.get(t),s=(e,t)=>{t.d.forEach(((t,n)=>{if(!o.has(n)){const e=r(n);o.set(n,[e,new Set]),e&&s(n,e)}o.get(n)[1].add(e)}))},a=(t,a)=>{var i;const c=r(t);if(e.set(t,a),null==(i=n[n.length-1])||i.add(t),o.has(t)||(o.set(t,[c,new Set]),s(t,a)),q(c)){const e="v"in a?a.v instanceof Promise?a.v:Promise.resolve(a.v):Promise.reject(a.e);c.v!==e&&L(c.v,e)}},i=(e,t,n,o)=>{const r=new Map(o?t.d:null);let s=!1;n.forEach(((n,o)=>{!n&&W(e,o)&&(n=t),n&&(r.set(o,n),t.d.get(o)!==n&&(s=!0))})),(s||t.d.size!==r.size)&&(t.d=r)},c=(e,t,n,o)=>{const s=r(e),c={d:(null==s?void 0:s.d)||new Map,v:t};if(n&&i(e,c,n,o),V(s,c)&&s.d===c.d)return s;if(q(s)&&q(c)&&(u=c,"v"in(l=s)&&"v"in u&&l.v.orig&&l.v.orig===u.v.orig)){if(s.d===c.d)return s;c.v=s.v}var l,u;return a(e,c),c},l=(e,n,o,s)=>{if("function"==typeof(null==(a=n)?void 0:a.then)){let a;const i=()=>{const n=r(e);if(!q(n)||n.v!==l)return;const s=c(e,l,o);t.has(e)&&n.d!==s.d&&m(e,s,n.d)},l=new Promise(((e,t)=>{let o=!1;n.then((t=>{o||(o=!0,U(l,t),e(t),i())}),(e=>{o||(o=!0,_(l,e),t(e),i())})),a=t=>{o||(o=!0,t.then((e=>U(l,e)),(e=>_(l,e))),e(t))}}));return l.orig=n,l.status="pending",((e,t)=>{F.set(e,t),e.catch((()=>{})).finally((()=>F.delete(e)))})(l,(e=>{e&&(a(e),null==s||s())})),c(e,l,o,!0)}var a;return c(e,n,o)},u=(e,n)=>{const o=r(e);if(!(null==n?void 0:n(e))&&o){if(t.has(e))return o;if(Array.from(o.d).every((([t,o])=>{if(t===e)return!0;const r=u(t,n);return r===o||V(r,o)})))return o}const s=new Map;let c=!0;const d=t=>{if(W(e,t)){const e=r(t);if(e)return s.set(t,e),H(e);if(I(t))return s.set(t,void 0),t.init;throw new Error("no atom init")}const o=u(t,n);return s.set(t,o),H(o)};let f,h;const g={get signal(){return f||(f=new AbortController),f.signal},get setSelf(){return!h&&B(e)&&(h=(...t)=>{if(!c)return p(e,...t)}),h}};try{const t=e.read(d,g);return l(e,t,s,(()=>null==f?void 0:f.abort()))}catch(w){return((e,t,n)=>{const o=r(e),s={d:(null==o?void 0:o.d)||new Map,e:t};return n&&i(e,s,n),G(o,s)&&o.d===s.d?o:(a(e,s),s)})(e,w,s)}finally{c=!1}},d=e=>H(u(e)),f=e=>{const n=new Array,a=new Set,i=e=>{if(!a.has(e)){a.add(e);for(const n of(e=>{var n,r;const s=new Set(null==(n=t.get(e))?void 0:n.t);return null==(r=o.get(e))||r[1].forEach((e=>{s.add(e)})),s})(e))e!==n&&i(n);n.push(e)}};i(e);const c=new Set([e]),l=e=>a.has(e);for(let t=n.length-1;t>=0;--t){const e=n[t],o=r(e);if(!o)continue;let i=!1;for(const t of o.d.keys())if(t!==e&&c.has(t)){i=!0;break}if(i){const t=u(e,l);s(e,t),V(o,t)||c.add(e)}a.delete(e)}},h=(e,...t)=>e.write((e=>H(u(e))),((t,...o)=>{const s=n.length>0;let a;if(s||n.push(new Set([t])),W(e,t)){if(!I(t))throw new Error("atom not writable");const e=r(t),n=l(t,o[0]);V(e,n)||f(t)}else a=h(t,...o);if(!s){v(n.pop());0}return a}),...t),p=(e,...t)=>{n.push(new Set([e]));const o=h(e,...t);v(n.pop());return o},g=(e,n,o)=>{var s;const a=t.get(e);if(a)return n&&a.t.add(n),a;const i=o||[];null==(s=r(e))||s.d.forEach(((t,n)=>{n!==e&&g(n,e,i)})),u(e);const c={t:new Set(n&&[n]),l:new Set};if(t.set(e,c),B(e)&&e.onMount){const{onMount:t}=e;i.push((()=>{const n=t(((...t)=>p(e,...t)));n&&(c.u=n)}))}return o||i.forEach((e=>e())),c},w=(e,n)=>{if(!((e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)))(e,n))return;const o=n.u;o&&o(),t.delete(e);const s=r(e);s&&(q(s)&&L(s.v),s.d.forEach(((n,o)=>{if(o!==e){const n=t.get(o);n&&(n.t.delete(e),w(o,n))}})))},m=(e,n,o)=>{const r=new Set(n.d.keys()),s=new Set;null==o||o.forEach(((n,o)=>{if(r.has(o))return void r.delete(o);s.add(o);const a=t.get(o);a&&a.t.delete(e)})),r.forEach((t=>{g(t,e)})),s.forEach((e=>{const n=t.get(e);n&&w(e,n)}))},v=e=>{const n=[],s=e=>{var t;if(!o.has(e))return;const[a,i]=o.get(e);o.delete(e),n.push([e,a]),i.forEach(s),null==(t=r(e))||t.d.forEach(((e,t)=>s(t)))};e.forEach(s),n.forEach((([e,n])=>{const o=r(e);if(o&&o!==n){const r=t.get(e);r&&o.d!==(null==n?void 0:n.d)&&m(e,o,null==n?void 0:n.d),r&&(q(n)||!V(n,o)&&!G(n,o))&&r.l.forEach((e=>e()))}}))},b=(e,t)=>{const n=g(e),o=(v([e]),n.l);return o.add(t),()=>{o.delete(t),w(e,n)}};return{get:d,set:p,sub:b}};let K;const Q=()=>(K||(K=J()),K),X=j.createContext(void 0),Y=e=>{const t=j.useContext(X);return(null==e?void 0:e.store)||t||Q()},Z=M.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)});function ee(e,t){const n=Y(t),[[o,r,s],a]=j.useReducer((t=>{const o=n.get(e);return Object.is(t[0],o)&&t[1]===n&&t[2]===e?t:[o,n,e]}),void 0,(()=>[n.get(e),n,e]));let i=o;r===n&&s===e||(a(),i=n.get(e));const c=null==t?void 0:t.delay;return j.useEffect((()=>{const t=n.sub(e,(()=>{"number"!=typeof c?a():setTimeout(a,c)}));return a(),t}),[n,e,c]),j.useDebugValue(i),"function"==typeof(null==(l=i)?void 0:l.then)?Z(i):i;var l}function te(e,t){const n=Y(t);return j.useCallback(((...t)=>n.set(e,...t)),[n,e])}function ne(e,t){return[ee(e,t),te(e,t)]}const oe="#ffffff",re=[new e({color:oe}),new e({color:oe}),new e({color:oe}),new e({color:oe})];const se=({show:e,message:t,link:n,projectName:o})=>{const[a,i]=j.useState(!1);j.useEffect((()=>{if(!e){const e=setTimeout((()=>{i(!1)}),300);return()=>clearTimeout(e)}i(!0)}),[e]);return a?r("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-float",children:s("div",{className:"bg-black/90 border-2 border-yellow-500/50 px-6 py-3 rounded-lg shadow-lg animate-fade-in cursor-pointer hover:bg-black/80 transition-colors",onClick:()=>{n&&window.open(n,"_blank")},children:[s("div",{className:"text-yellow-400 font-mono text-lg tracking-wider",children:["Clicking ",r("span",{className:"text-white font-bold",children:"here"})," will take you to the ",o," source code"]}),r("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-black/90 border-r-2 border-b-2 border-yellow-500/50 rotate-45"})]})}):null},ae=["DSC00680","DSC00933","DSC00966","DSC00983","DSC01011","DSC01040","DSC01064","DSC01071","DSC01103","DSC01145"],ie=function(e,t){const n="atom"+ ++A,o={toString:()=>n};return"function"==typeof e?o.read=e:(o.init=e,o.read=T,o.write=R),t&&(o.write=t),o}(0),ce=[{front:"book-cover",back:ae[0]}];for(let ge=1;ge<9;ge+=2)ce.push({front:ae[ge%ae.length],back:ae[(ge+1)%ae.length]});ce.push({front:ae[9],back:"book-back"});const le=()=>{const[e,t]=ne(ie),n=e=>{switch(e){case 0:return"Cover";case 1:return"About & Skills";case 2:return"Experience";case 3:return"Project 1";case 4:return"Project 2";case 5:return"Testimonials";default:return`Page ${e}`}},o=(e=>{switch(e){case 3:return{link:"https://github.com/aajax1211/proshop.com-django.git",projectName:"ProShop"};case 4:return{link:"https://github.com/aajax1211/chit-chat-react-node.git",projectName:"Chit-Chat"};default:return null}})(e);return s(a,{children:[s("main",{className:"pointer-events-none select-none z-10 fixed inset-0 flex justify-between flex-col",children:[r("div",{className:"pointer-events-auto mt-10 ml-10"}),r("div",{className:"w-full overflow-auto pointer-events-auto flex justify-center",children:r("div",{className:"overflow-auto flex items-center gap-4 max-w-full p-10",children:[...ce].map(((o,s)=>r("button",{className:"border-transparent hover:border-white transition-all duration-300 px-4 py-3 rounded-full text-lg uppercase shrink-0 border "+(s===e?"bg-white/90 text-black":"bg-black/30 text-white"),onClick:()=>t(s),children:n(s)},s)))})})]}),o&&r(se,{show:3===e||4===e,link:o.link,projectName:o.projectName})]})},ue=Math.PI/180;ce.forEach((e=>{try{i.preload(c,[`${P}textures/${e.front}.jpg`]),i.preload(c,[`${P}textures/${e.back}.jpg`]),i.preload(c,[`${P}textures/book-cover-roughness.jpg`])}catch(t){}}));const de=({number:s,front:a,back:i,page:c,opened:v,bookClosed:b,...k})=>{const[S,x]=j.useState(!1),[y,M]=ne(ie);l(S);const[A,T,R]=u([`${P}textures/${a}.jpg`,`${P}textures/${i}.jpg`,...0===s||s===ce.length-1?[`${P}textures/book-cover-roughness.jpg`]:[]],void 0),W=j.useRef(),I=j.useRef(),B=j.useRef(0),F=j.useRef(v),L=new e({map:A,roughnessMap:0===s?R:null,side:d,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),U=new e({map:T,roughnessMap:s===ce.length-1?R:null,side:d,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),{mesh:_,bones:V,skeleton:G}=j.useMemo((()=>{const e=N.clone();!function(e){if(!e.attributes.position)return;e.translate(C/2,0,0);const r=e.attributes.position,s=new t,a=[],i=[];for(let t=0;t<r.count;t++){s.fromBufferAttribute(r,t);const e=s.x,n=Math.max(0,Math.floor(e/E)),o=e%E/E;a.push(n,n+1,0,0),i.push(1-o,o,0,0)}e.setAttribute("skinIndex",new n(a,4)),e.setAttribute("skinWeight",new o(i,4)),e.computeBoundingBox()}(e);const r=[];for(let t=0;t<=D;t++){const e=new f;e.position.x=0===t?0:E,t>0&&r[t-1].add(e),r.push(e)}const s=new h(r),a=[...re,L,U];A.colorSpace=T.colorSpace=p;const i=new g(e,a);return i.castShadow=!0,i.receiveShadow=!0,i.frustumCulled=!1,i.add(r[0]),i.bind(s),r[0].updateMatrixWorld(!0),{mesh:i,bones:r,skeleton:s}}),[]);w(((e,t)=>{if(!I.current)return;const n=I.current.skeleton.bones;F.current!==v&&(B.current=+new Date,F.current=v);let o=v?-Math.PI/2:Math.PI/2;b||(o+=.8*s*ue);const r=n.map(((e,t)=>t<8?Math.sin(.2*t+.25):0)),a=n.map(((e,t)=>t>8?Math.cos(.3*t+.09):0));for(let s=0;s<n.length;s++){const e=0===s?W.current:n[s];let i=o*r[s]*.18-O*a[s]*o;b&&(i=0===s?o:0),Math.abs(e.rotation.y-i)>.001&&m.dampAngle(e.rotation,"y",i,$,t)}}));const q=b?c.length+1:c;return r("group",{...k,ref:W,"rotation-y":0,"position-x":-s*z,onPointerEnter:e=>{e.stopPropagation(),x(!0)},onPointerLeave:e=>{e.stopPropagation(),x(!1)},onClick:e=>{e.stopPropagation(),s<5&&M(v?s:s+1),x(!1)},children:r("primitive",{ref:I,object:_,"position-z":-s*z+(s===q?2*z:0),renderOrder:s===q?1:0})})},fe=({...e})=>{const[t]=ne(ie),[n,o]=j.useState(t);return j.useEffect((()=>{if(t===n)return;const e=Math.abs(t-n)>2?50:150,r=setTimeout((()=>{t>n?o((e=>e+1)):t<n&&o((e=>e-1))}),e);return()=>clearTimeout(r)}),[t,n]),r("group",{...e,children:ce.map(((e,t)=>r(de,{number:t,front:e.front,back:e.back,page:n,opened:n>t,bookClosed:0===n||n===ce.length,...e},t)))})},he=()=>{const[e]=ne(ie),t=0===e,{position:n}=v({position:t?[0,0,.5]:[0,0,0],config:{mass:.5,tension:120,friction:20}});return s(a,{children:[r(b.group,{position:n,children:r(fe,{})}),r(k,{}),r(S,{preset:"studio"}),r("directionalLight",{position:[2,5,2],intensity:2.5,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-1e-4}),s("mesh",{"position-y":-1.5,"rotation-x":-Math.PI/2,receiveShadow:!0,children:[r("planeGeometry",{args:[100,100]}),r("shadowMaterial",{transparent:!0,opacity:.2})]})]})};function pe(){return s(a,{children:[r(le,{}),r(x,{}),r(y,{className:"absolute inset-0 w-full h-full",shadows:!0,camera:{position:[-.5,1,4],fov:45},children:r("group",{"position-y":0,children:r(j.Suspense,{fallback:null,children:r(he,{})})})})]})}export{pe as default};
