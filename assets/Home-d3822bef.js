import{B as e,M as t,V as n,U as o,F as r,j as s,u as a,T as i,a as l,D as c,b as u,S as d,d as f,e as h,f as p,g,O as w,E as m,L as b,C as v}from"./three-vendor-9b526fc5.js";import{r as x,R as j}from"./react-vendor-c006d04a.js";let k=0;function S(e){return e(this)}function y(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}const M=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,C=e=>"init"in e,E=e=>!!e.write,N=new WeakMap,D=(e,t)=>{const n=N.get(e);n&&(N.delete(e),n(t))},P=(e,t)=>{e.status="fulfilled",e.value=t},O=(e,t)=>{e.status="rejected",e.reason=t},z=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),A=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),T=e=>!!e&&"v"in e&&e.v instanceof Promise,F=e=>{if("e"in e)throw e.e;return e.v},I=()=>{const e=new WeakMap,t=new WeakMap,n=[],o=new WeakMap;const r=t=>e.get(t),s=(e,t)=>{t.d.forEach(((t,n)=>{if(!o.has(n)){const e=r(n);o.set(n,[e,new Set]),e&&s(n,e)}o.get(n)[1].add(e)}))},a=(t,a)=>{var i;const l=r(t);if(e.set(t,a),null==(i=n[n.length-1])||i.add(t),o.has(t)||(o.set(t,[l,new Set]),s(t,a)),T(l)){const e="v"in a?a.v instanceof Promise?a.v:Promise.resolve(a.v):Promise.reject(a.e);l.v!==e&&D(l.v,e)}},i=(e,t,n,o)=>{const r=new Map(o?t.d:null);let s=!1;n.forEach(((n,o)=>{!n&&M(e,o)&&(n=t),n&&(r.set(o,n),t.d.get(o)!==n&&(s=!0))})),(s||t.d.size!==r.size)&&(t.d=r)},l=(e,t,n,o)=>{const s=r(e),l={d:(null==s?void 0:s.d)||new Map,v:t};if(n&&i(e,l,n,o),z(s,l)&&s.d===l.d)return s;if(T(s)&&T(l)&&(u=l,"v"in(c=s)&&"v"in u&&c.v.orig&&c.v.orig===u.v.orig)){if(s.d===l.d)return s;l.v=s.v}var c,u;return a(e,l),l},c=(e,n,o,s)=>{if("function"==typeof(null==(a=n)?void 0:a.then)){let a;const i=()=>{const n=r(e);if(!T(n)||n.v!==c)return;const s=l(e,c,o);t.has(e)&&n.d!==s.d&&m(e,s,n.d)},c=new Promise(((e,t)=>{let o=!1;n.then((t=>{o||(o=!0,P(c,t),e(t),i())}),(e=>{o||(o=!0,O(c,e),t(e),i())})),a=t=>{o||(o=!0,t.then((e=>P(c,e)),(e=>O(c,e))),e(t))}}));return c.orig=n,c.status="pending",((e,t)=>{N.set(e,t),e.catch((()=>{})).finally((()=>N.delete(e)))})(c,(e=>{e&&(a(e),null==s||s())})),l(e,c,o,!0)}var a;return l(e,n,o)},u=(e,n)=>{const o=r(e);if(!(null==n?void 0:n(e))&&o){if(t.has(e))return o;if(Array.from(o.d).every((([t,o])=>{if(t===e)return!0;const r=u(t,n);return r===o||z(r,o)})))return o}const s=new Map;let l=!0;const d=t=>{if(M(e,t)){const e=r(t);if(e)return s.set(t,e),F(e);if(C(t))return s.set(t,void 0),t.init;throw new Error("no atom init")}const o=u(t,n);return s.set(t,o),F(o)};let f,h;const g={get signal(){return f||(f=new AbortController),f.signal},get setSelf(){return!h&&E(e)&&(h=(...t)=>{if(!l)return p(e,...t)}),h}};try{const t=e.read(d,g);return c(e,t,s,(()=>null==f?void 0:f.abort()))}catch(w){return((e,t,n)=>{const o=r(e),s={d:(null==o?void 0:o.d)||new Map,e:t};return n&&i(e,s,n),A(o,s)&&o.d===s.d?o:(a(e,s),s)})(e,w,s)}finally{l=!1}},d=e=>F(u(e)),f=e=>{const n=new Array,a=new Set,i=e=>{if(!a.has(e)){a.add(e);for(const n of(e=>{var n,r;const s=new Set(null==(n=t.get(e))?void 0:n.t);return null==(r=o.get(e))||r[1].forEach((e=>{s.add(e)})),s})(e))e!==n&&i(n);n.push(e)}};i(e);const l=new Set([e]),c=e=>a.has(e);for(let t=n.length-1;t>=0;--t){const e=n[t],o=r(e);if(!o)continue;let i=!1;for(const t of o.d.keys())if(t!==e&&l.has(t)){i=!0;break}if(i){const t=u(e,c);s(e,t),z(o,t)||l.add(e)}a.delete(e)}},h=(e,...t)=>e.write((e=>F(u(e))),((t,...o)=>{const s=n.length>0;let a;if(s||n.push(new Set([t])),M(e,t)){if(!C(t))throw new Error("atom not writable");const e=r(t),n=c(t,o[0]);z(e,n)||f(t)}else a=h(t,...o);if(!s){b(n.pop());0}return a}),...t),p=(e,...t)=>{n.push(new Set([e]));const o=h(e,...t);b(n.pop());return o},g=(e,n,o)=>{var s;const a=t.get(e);if(a)return n&&a.t.add(n),a;const i=o||[];null==(s=r(e))||s.d.forEach(((t,n)=>{n!==e&&g(n,e,i)})),u(e);const l={t:new Set(n&&[n]),l:new Set};if(t.set(e,l),E(e)&&e.onMount){const{onMount:t}=e;i.push((()=>{const n=t(((...t)=>p(e,...t)));n&&(l.u=n)}))}return o||i.forEach((e=>e())),l},w=(e,n)=>{if(!((e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)))(e,n))return;const o=n.u;o&&o(),t.delete(e);const s=r(e);s&&(T(s)&&D(s.v),s.d.forEach(((n,o)=>{if(o!==e){const n=t.get(o);n&&(n.t.delete(e),w(o,n))}})))},m=(e,n,o)=>{const r=new Set(n.d.keys()),s=new Set;null==o||o.forEach(((n,o)=>{if(r.has(o))return void r.delete(o);s.add(o);const a=t.get(o);a&&a.t.delete(e)})),r.forEach((t=>{g(t,e)})),s.forEach((e=>{const n=t.get(e);n&&w(e,n)}))},b=e=>{const n=[],s=e=>{var t;if(!o.has(e))return;const[a,i]=o.get(e);o.delete(e),n.push([e,a]),i.forEach(s),null==(t=r(e))||t.d.forEach(((e,t)=>s(t)))};e.forEach(s),n.forEach((([e,n])=>{const o=r(e);if(o&&o!==n){const r=t.get(e);r&&o.d!==(null==n?void 0:n.d)&&m(e,o,null==n?void 0:n.d),r&&(T(n)||!z(n,o)&&!A(n,o))&&r.l.forEach((e=>e()))}}))},v=(e,t)=>{const n=g(e),o=(b([e]),n.l);return o.add(t),()=>{o.delete(t),w(e,n)}};return{get:d,set:p,sub:v}};let R;const W=()=>(R||(R=I()),R),B=x.createContext(void 0),$=e=>{const t=x.useContext(B);return(null==e?void 0:e.store)||t||W()},L=j.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)});function U(e,t){const n=$(t),[[o,r,s],a]=x.useReducer((t=>{const o=n.get(e);return Object.is(t[0],o)&&t[1]===n&&t[2]===e?t:[o,n,e]}),void 0,(()=>[n.get(e),n,e]));let i=o;r===n&&s===e||(a(),i=n.get(e));const l=null==t?void 0:t.delay;return x.useEffect((()=>{const t=n.sub(e,(()=>{"number"!=typeof l?a():setTimeout(a,l)}));return a(),t}),[n,e,l]),x.useDebugValue(i),"function"==typeof(null==(c=i)?void 0:c.then)?L(i):i;var c}function _(e,t){const n=$(t);return x.useCallback(((...t)=>n.set(e,...t)),[n,e])}function V(e,t){return[U(e,t),_(e,t)]}const G=1.28,H=5e-4,J=G/30,q=new e(G,1.71,H,30,30,2),K="#ffffff",Q=[new t({color:K}),new t({color:K}),new t({color:K}),new t({color:K})];const X=({show:e,message:t,link:n,projectName:o})=>{const[r,a]=x.useState(!1);x.useEffect((()=>{if(!e){const e=setTimeout((()=>{a(!1)}),300);return()=>clearTimeout(e)}a(!0)}),[e]);return r?s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-float",children:s.jsxs("div",{className:"bg-black/90 border-2 border-yellow-500/50 px-6 py-3 rounded-lg shadow-lg animate-fade-in cursor-pointer hover:bg-black/80 transition-colors",onClick:()=>{n&&window.open(n,"_blank")},children:[s.jsxs("div",{className:"text-yellow-400 font-mono text-lg tracking-wider",children:["Clicking ",s.jsx("span",{className:"text-white font-bold",children:"here"})," will take you to the ",o," source code"]}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-black/90 border-r-2 border-b-2 border-yellow-500/50 rotate-45"})]})}):null},Y=["DSC00680","DSC00933","DSC00966","DSC00983","DSC01011","DSC01040","DSC01064","DSC01071","DSC01103","DSC01145"],Z=function(e,t){const n="atom"+ ++k,o={toString:()=>n};return"function"==typeof e?o.read=e:(o.init=e,o.read=S,o.write=y),t&&(o.write=t),o}(0),ee=[{front:"book-cover",back:Y[0]}];for(let ie=1;ie<9;ie+=2)ee.push({front:Y[ie%Y.length],back:Y[(ie+1)%Y.length]});ee.push({front:Y[9],back:"book-back"});const te=()=>{const[e,t]=V(Z),n=e=>{switch(e){case 0:return"Cover";case 1:return"About & Skills";case 2:return"Experience";case 3:return"Project 1";case 4:return"Project 2";case 5:return"Testimonials";default:return`Page ${e}`}},o=(e=>{switch(e){case 3:return{link:"https://github.com/aajax1211/proshop.com-django.git",projectName:"ProShop"};case 4:return{link:"https://github.com/aajax1211/chit-chat-react-node.git",projectName:"Chit-Chat"};default:return null}})(e);return s.jsxs(s.Fragment,{children:[s.jsxs("main",{className:"pointer-events-none select-none z-10 fixed inset-0 flex justify-between flex-col",children:[s.jsx("a",{className:"pointer-events-auto mt-10 ml-10 text-white",children:s.jsx("p",{className:"w-20",children:"AJIT BEHL"})}),s.jsx("div",{className:"w-full overflow-auto pointer-events-auto flex justify-center",children:s.jsx("div",{className:"overflow-auto flex items-center gap-4 max-w-full p-10",children:[...ee].map(((o,r)=>s.jsx("button",{className:"border-transparent hover:border-white transition-all duration-300 px-4 py-3 rounded-full text-lg uppercase shrink-0 border "+(r===e?"bg-white/90 text-black":"bg-black/30 text-white"),onClick:()=>t(r),children:n(r)},r)))})})]}),o&&s.jsx(X,{show:3===e||4===e,link:o.link,projectName:o.projectName})]})},ne=Math.PI/180;ee.forEach((e=>{a.preload(i,[`/textures/${e.front}.jpg`]),a.preload(i,[`/textures/${e.back}.jpg`]),a.preload(i,["/textures/book-cover-roughness.jpg"])}));const oe=({number:e,front:a,back:i,page:w,opened:m,bookClosed:b,...v})=>{const[j,k,S]=l([`/textures/${a}.jpg`,`/textures/${i}.jpg`,...0===e||e===ee.length-1?["/textures/book-cover-roughness.jpg"]:[]]),y=x.useRef(),M=x.useRef(),C=x.useRef(0),E=x.useRef(m),N=new t({map:j,roughnessMap:0===e?S:null,side:c,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),D=new t({map:k,roughnessMap:e===ee.length-1?S:null,side:c,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1}),{mesh:P,bones:O,skeleton:z}=x.useMemo((()=>{const e=q.clone();!function(e){if(!e.attributes.position)return;e.translate(.64,0,0);const t=e.attributes.position,s=new n,a=[],i=[];for(let n=0;n<t.count;n++){s.fromBufferAttribute(t,n);const e=s.x,o=Math.max(0,Math.floor(e/J)),r=e%J/J;a.push(o,o+1,0,0),i.push(1-r,r,0,0)}e.setAttribute("skinIndex",new o(a,4)),e.setAttribute("skinWeight",new r(i,4)),e.computeBoundingBox()}(e);const t=[];for(let n=0;n<=30;n++){const e=new u;e.position.x=0===n?0:J,n>0&&t[n-1].add(e),t.push(e)}const s=new d(t),a=[...Q,N,D];j.colorSpace=k.colorSpace=f;const i=new h(e,a);return i.castShadow=!0,i.receiveShadow=!0,i.frustumCulled=!1,i.add(t[0]),i.bind(s),t[0].updateMatrixWorld(!0),{mesh:i,bones:t,skeleton:s}}),[]);p(((t,n)=>{if(!M.current)return;const o=M.current.skeleton.bones;E.current!==m&&(C.current=+new Date,E.current=m),Math.min(400,+new Date-C.current);let r=m?-Math.PI/2:Math.PI/2;b||(r+=.8*e*ne);for(let e=0;e<o.length;e++){const t=0===e?y.current:o[e];let s=r*(e<8?Math.sin(.2*e+.25):0)*.18-.05*(e>8?Math.cos(.3*e+.09):0)*r;b&&(s=0===e?r:0),g.dampAngle(t.rotation,"y",s,.5,n)}}));const A=b?w.length+1:w;return s.jsx("group",{...v,ref:y,"rotation-y":0,"position-x":-e*H,children:s.jsx("primitive",{ref:M,object:P,"position-z":-e*H+(e===A?.001:0),renderOrder:e===A?1:0})})},re=({...e})=>{const[t]=V(Z),[n,o]=x.useState(t);return x.useEffect((()=>{if(t===n)return;const e=Math.abs(t-n)>2?50:150,r=setTimeout((()=>{t>n?o((e=>e+1)):t<n&&o((e=>e-1))}),e);return()=>clearTimeout(r)}),[t,n]),s.jsx("group",{...e,children:ee.map(((e,t)=>s.jsx(oe,{number:t,front:e.front,back:e.back,page:n,opened:n>t,bookClosed:0===n||n===ee.length,...e},t)))})},se=()=>s.jsxs(s.Fragment,{children:[s.jsx(re,{}),s.jsx(w,{}),s.jsx(m,{preset:"studio"}),s.jsx("directionalLight",{position:[2,5,2],intensity:2.5,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-1e-4}),s.jsxs("mesh",{"position-y":-1.5,"rotation-x":-Math.PI/2,receiveShadow:!0,children:[s.jsx("planeGeometry",{args:[100,100]}),s.jsx("shadowMaterial",{transparent:!0,opacity:.2})]})]});function ae(){return s.jsxs(s.Fragment,{children:[s.jsx(te,{}),s.jsx(b,{}),s.jsx(v,{className:"absolute inset-0 w-full h-full",shadows:!0,camera:{position:[-.5,1,4],fov:45},children:s.jsx("group",{"position-y":0,children:s.jsx(x.Suspense,{fallback:null,children:s.jsx(se,{})})})})]})}export{ae as default};
